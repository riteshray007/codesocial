class ChatEngine{constructor(s,e){this.userEmail=e,this.chatBox=$(`#${s}`),this.socket=io.connect("http://13.239.139.155:5000"),this.userEmail&&this.connectionHandler()}connectionHandler(){let s=this;this.socket.on("connect",(function(){console.log("connection establised using sockets"),s.socket.emit("join_room",{user_email:s.userEmail,chatroom:"codesocial"}),s.socket.on("user_joined",(function(s){console.log("a user joined ",s)}))})),$(".message-sending-btn").click((function(){let e=$(".message-form").val();""!=e&&s.socket.emit("send_message",{message:e,user_email:s.userEmail,chatroom:"codesocial"})})),s.socket.on("message_received",(function(e){console.log(e);let n="Other-message";e.user_email==s.userEmail&&(n="self-message"),"self-message"==n?$(".message-list").append(` \n                    <li class='self-message' > <span class='self-span' > ${e.message}  <sub> ${e.user_email} <sub/>   </span>  </li>\n                `):$(".message-list").append(` \n                <li class='Other-message' > <span class='others-span' > ${e.message} <sub> ${e.user_email} <sub/>  </span>   </li>\n                `)}))}}